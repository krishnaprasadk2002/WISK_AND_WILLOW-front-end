<!-- Top Navigation Bar -->
<app-admin-nav [PageName]="'Employee Management'" ></app-admin-nav>



<div class="w-full mt-12 overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm text-left text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
            <tr class="">
                <th scope="col" class="px-6 py-3">
                    Employee name
                </th>
                <th scope="col" class="px-6 py-3">
                    Email
                </th>
                <th scope="col" class="px-6 py-3">
                    Mobile
                </th>
                <th scope="col" class="px-6 py-3">
                    Specified type
                </th>
                <th scope="col" class="px-6 py-3">
                    Status
                </th>
                <th scope="col" class="px-6 py-3">
                    Actions
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let employee of employees"  class="bg-white border-b hover:bg-gray-50">
                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                    {{employee.name}}
                </th>
                <td class="px-6 py-4">
                    {{employee.email}}
                </td>
                <td class="px-6 py-4">
                    {{employee.mobile}}
                </td>
                <td class="px-6 py-4">
                    {{employee.type}}
                </td>
                <td class="px-6 py-4">
                    {{ employee.is_employee }}
                </td>

                <td class="px-6 py-4 ">
                    <div *ngIf="employee.is_employee === 'Pending'; else statusBlock">
                      <button (click)="updateStatus(employee, 'Approved')"
                        class="bg-transparent hover:bg-green-500 text-green-700 font-semibold hover:text-white py-2 px-4 border border-green-500 hover:border-transparent rounded">
                        Approve
                      </button>
                      <button (click)="updateStatus(employee, 'Rejected')"
                        class="bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded">
                        Reject
                      </button>
                    </div>
                    <ng-template #statusBlock>
                        @if (employee.is_employee === "Approved") {
                            <button (click)="updateStatus(employee, 'Rejected')"
                            class="bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded">
                            Reject
                          </button>
                        }@else {
                            <button (click)="updateStatus(employee, 'Approved')"
                            class="bg-transparent hover:bg-green-500 text-green-700 font-semibold hover:text-white py-2 px-4 border border-green-500 hover:border-transparent rounded">
                            Approve
                          </button>
                        }
                 
                    </ng-template>
                  </td>
                  
            </tr>
        </tbody>
    </table>
</div>